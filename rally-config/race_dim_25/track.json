{
  "version": 2,
  "description": "Benchmark for ANN",
  "indices": [
    {
      "name": "word2vec_vector",
      "body": "index.json"
    }
  ],
  "corpora": [
    {
      "name": "w2v_vector",
      "documents": [
        {
          "source-file": "document.json",
          "document-count": 1226258,
          "uncompressed-bytes": 777040696,
          "compressed-bytes": 272108877
        }
      ]
    }
  ],
  "schedule": [
    {
      "operation": {
        "operation-type": "create-index"
      }
    },
    {
      "operation": {
        "operation-type": "cluster-health",
        "request-params": {
          "wait_for_status": "green"
        },
        "retry-until-success": true
      }
    },
    {
      "operation": {
        "name": "index-append",
        "operation-type": "bulk",
        "bulk-size": 500
      },
      "clients": 4
    },
    {
      "operation": {
        "operation-type": "force-merge"
      }
    },
    {
      "operation": {
        "name": "vector-search",
        "operation-type": "search",
        "param-source": "custom-searcher",
        "vectors": {% include "search_vector_top1000.json" %}
      },
      "clients": 4
    }
  ]
}

